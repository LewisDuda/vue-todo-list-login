import{_ as C,S as b,s as p,r as k,g as d,a as F,o as S,c as T,b as a,d as q,e as B,w as m,v as c,h,n as u,t as w,i as R,f as z}from"./index.40538bdf.js";const A={setup(){const v=b.mixin({toast:!0,position:"top",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:2500,timerProgressBar:!0}),r=p.state.auth,o=k({email:"",username:"",password:"",rePassword:""}),e=d(!0),n=d(!0),l=d(!0),t=d(!0),s=k({email:"",username:"",password:"* Use 8 or more characters with a mix of letters, numbers, symbols & at least one uppercase letter",rePassword:""});async function P(){await p.dispatch("auth/registerEmailCheck",o.email);const i=R(()=>r.isEmailUsed);o.email?E(o.email)?i.value?(s.email="* This email is occupied.",e.value=!1):(s.email="",e.value=!0):(s.email="* Valid email required.",e.value=!1):(s.email="* Email required.",e.value=!1)}function g(){P(),o.username?(s.username="",n.value=!0):(s.username="* Username required.",n.value=!1)}function V(){g(),o.password?U(o.password)?(s.password="",l.value=!0):(s.password="* Use 8 or more characters with a mix of letters, numbers, symbols & at least one uppercase letter",l.value=!1):(s.password="* Password required.",l.value=!1)}function _(){o.rePassword?x(o.rePassword)?(s.rePassword="",t.value=!0):(s.rePassword="* Those passwords didn't match. Try again.",t.value=!1):(s.rePassword="* Confirm Password required.",t.value=!1)}async function y(){if(_(),!e.value||!n.value||!l.value||!t.value)return v.fire({icon:"error",title:"Oops, please reconfirm your register form."});p.dispatch("auth/userSingup",o)}function E(i){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i)}function U(i){return/^(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/.test(i)}function x(i){const f=o.password;return i===f}return{emailValid:e,usernameValid:n,passwordValid:l,rePasswordValid:t,registerForm:o,errors:s,checkEmail:P,checkUseranme:g,checkPassword:V,submit:y}}},K={class:"register"},N={class:"register-form"},Z=a("i",{class:"fa-solid fa-arrow-left-long"},null,-1),D=z(" Sign in "),G=a("h2",null,"SIGN UP",-1),I={class:"group"},M=a("h3",null,"Email",-1),O={class:"group"},j=a("h3",null,"Username",-1),H={class:"group"},J=a("h3",null,"Password",-1),L={class:"group"},Q=a("h3",null,"Confirm Password",-1);function W(v,r,o,e,n,l){const t=F("router-link");return S(),T("div",K,[a("div",N,[q(t,{class:"sign-in",to:"/"},{default:B(()=>[Z,D]),_:1}),G,a("div",I,[M,m(a("input",{type:"text",placeholder:"Enter Email","onUpdate:modelValue":r[0]||(r[0]=s=>e.registerForm.email=s),onKeydown:r[1]||(r[1]=h((...s)=>e.checkEmail&&e.checkEmail(...s),["tab"]))},null,544),[[c,e.registerForm.email]]),a("p",{class:u([e.emailValid?"emailValid":"error-text emailValid"])},w(e.errors.email),3)]),a("div",O,[j,m(a("input",{type:"text",placeholder:"Enter Username","onUpdate:modelValue":r[2]||(r[2]=s=>e.registerForm.username=s),onClick:r[3]||(r[3]=(...s)=>e.checkEmail&&e.checkEmail(...s)),onKeydown:r[4]||(r[4]=h((...s)=>e.checkUseranme&&e.checkUseranme(...s),["tab"]))},null,544),[[c,e.registerForm.username]]),a("p",{class:u([e.usernameValid?"usernameValid":"error-text usernameValid"])},w(e.errors.username),3)]),a("div",H,[J,m(a("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":r[5]||(r[5]=s=>e.registerForm.password=s),onClick:r[6]||(r[6]=(...s)=>e.checkUseranme&&e.checkUseranme(...s)),onKeydown:r[7]||(r[7]=h((...s)=>e.checkPassword&&e.checkPassword(...s),["tab"]))},null,544),[[c,e.registerForm.password]]),a("p",{class:u([e.passwordValid?"passwordValid":"error-text passwordValid"])},w(e.errors.password),3)]),a("div",L,[Q,m(a("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":r[8]||(r[8]=s=>e.registerForm.rePassword=s),onClick:r[9]||(r[9]=(...s)=>e.checkPassword&&e.checkPassword(...s))},null,512),[[c,e.registerForm.rePassword]]),a("p",{class:u([e.rePasswordValid?"rePasswordValid":"error-text rePasswordValid"])},w(e.errors.rePassword),3)]),a("input",{type:"submit",value:"Register",onClick:r[10]||(r[10]=(...s)=>e.submit&&e.submit(...s))})])])}const Y=C(A,[["render",W]]);export{Y as default};
